"use strict";(self.webpackChunkDublinCityMotors=self.webpackChunkDublinCityMotors||[]).push([[196],{4196:(b,h,s)=>{s.r(h),s.d(h,{PagesModule:()=>A});var a=s(177),m=s(8729),o=s(4341),p=s(7673),d=s(9172),v=s(6354),t=s(8699),u=s(6554),C=s(2923),g=s(788),F=s(7402),M=s(1345);const j=["carFilter"];function P(n,f){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td",23)(2,"button",24),t.bIt("click",function(){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.edit(r.id,!0))}),t.nrm(3,"i",25),t.k0s(),t.j41(4,"button",26),t.bIt("click",function(){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.duplicate(r.id,!1))}),t.nrm(5,"i",27),t.k0s(),t.j41(6,"button",28),t.bIt("click",function(){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.delete(r.id))}),t.nrm(7,"i",29),t.k0s()(),t.j41(8,"td",23),t.nrm(9,"ngb-highlight",30),t.nI1(10,"number"),t.k0s(),t.j41(11,"td"),t.nrm(12,"ngb-highlight",30),t.k0s(),t.j41(13,"td"),t.nrm(14,"ngb-highlight",30),t.nI1(15,"currency"),t.k0s(),t.j41(16,"td"),t.nrm(17,"ngb-highlight",30),t.k0s(),t.j41(18,"td"),t.nrm(19,"ngb-highlight",30),t.k0s(),t.j41(20,"td"),t.nrm(21,"ngb-highlight",30),t.k0s(),t.j41(22,"td"),t.nrm(23,"ngb-highlight",30),t.k0s(),t.j41(24,"td"),t.nrm(25,"ngb-highlight",30),t.k0s()()}if(2&n){const e=f.$implicit,i=t.XpG();t.R7$(9),t.Y8G("result",t.bMT(10,16,e.id))("term",i.filter.value),t.R7$(3),t.Y8G("result",e.name)("term",i.filter.value),t.R7$(2),t.Y8G("result",t.i5U(15,18,e.price,"EUR"))("term",i.filter.value),t.R7$(3),t.Y8G("result",e.regYear)("term",i.filter.value),t.R7$(2),t.Y8G("result",e.makeName)("term",i.filter.value),t.R7$(2),t.Y8G("result",e.modelName)("term",i.filter.value),t.R7$(2),t.Y8G("result",e.fuelType)("term",i.filter.value),t.R7$(2),t.Y8G("result",e.transmission)("term",i.filter.value)}}function y(n,f){1&n&&(t.j41(0,"tr",23)(1,"td",31)(2,"span",32),t.EFF(3,"No Data To Show"),t.k0s()()())}function S(n,f){if(1&n){const e=t.RV6();t.j41(0,"div",33)(1,"h4",34),t.EFF(2,"Filters"),t.k0s(),t.j41(3,"button",35),t.bIt("click",function(){const r=t.eBV(e).$implicit;return t.Njj(r.dismiss("Cross click"))}),t.k0s()(),t.j41(4,"div",36)(5,"form",37),t.bIt("ngSubmit",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.submitfilter())}),t.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"ng-select",41),t.bIt("change",function(l){t.eBV(e);const r=t.XpG();return t.Njj(r.getModel(null==l?null:l.id))}),t.k0s(),t.j41(10,"label",7),t.EFF(11,"Make"),t.k0s()()(),t.j41(12,"div",39)(13,"div",5),t.nrm(14,"ng-select",42),t.j41(15,"label",7),t.EFF(16,"Model"),t.k0s()()(),t.j41(17,"div",39)(18,"div",5),t.nrm(19,"input",43),t.j41(20,"label",7),t.EFF(21,"Reg Year"),t.k0s()()(),t.j41(22,"div",39)(23,"div",5),t.nrm(24,"input",44),t.j41(25,"label",7),t.EFF(26,"Price"),t.k0s()()()(),t.j41(27,"div",45)(28,"div",46)(29,"button",47),t.bIt("click",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.clearFilter())}),t.EFF(30,"Clear Filter"),t.k0s()(),t.j41(31,"div",46)(32,"button",48),t.EFF(33,"Search"),t.k0s()()()()()}if(2&n){const e=t.XpG();t.R7$(5),t.Y8G("formGroup",e.filterForm),t.R7$(4),t.Y8G("items",e.make)("clearable",!1)("loading",!e.make)("searchable",!0),t.R7$(5),t.Y8G("items",e.model)("clearable",!1)("loading",!e.model)("searchable",!0)}}const x=[{path:"",component:(()=>{class n{constructor(e,i,l,r,c){this.spinner=e,this.CarStaticDataService=i,this.offcanvasService=l,this.router=r,this.messages=c,this.filter=new o.MJ("",{nonNullable:!0}),this.images=[]}ngOnInit(){this.getAllCars(),this.products$=(0,p.of)(this.allProducts),this.products$=this.filter.valueChanges.pipe((0,d.Z)(""),(0,v.T)(e=>this.filterProducts(e))),this.initForm()}initForm(){this.filterForm=new o.gE({makeId:new o.MJ,modelId:new o.MJ,regYear:new o.MJ,price:new o.MJ})}getAllCars(){return this.spinner.show(),this.CarStaticDataService.getAllCars().subscribe(e=>{e&&(this.spinner.hide(),this.allProducts=e,this.allProducts.filter(i=>this.images=i.images))},e=>{this.spinner.hide(),this.messages.toast(e.error.message,"error")})}convertPathToUrl(e){return e.replace("C:\\Storage\\","/assets/")}getFirstImage(){return this.images?.[0]}filterProducts(e){return e?(e=e.toLowerCase(),this.allProducts.filter(i=>i.name.toLowerCase().includes(e)||i.makeName.toLowerCase().includes(e)||i.modelName.toLowerCase().includes(e)||i.transmission.toLowerCase().includes(e)||i.price.toString().includes(e)||i.regYear.includes(e)||i.id.toString().includes(e)||i.fuelType.toString().includes(e))):this.allProducts}openFilterOffcanvas(){this.offcanvasService.open(this.carFilter,{position:"end"}),this.getAllMake()}getAllMake(){return this.CarStaticDataService.getAllMake().subscribe(e=>{e&&(this.make=e)},e=>{this.messages.toast(e.error.message,"error")})}getModel(e){this.CarStaticDataService.getModelByMake(e).subscribe(i=>{this.model=i})}submitfilter(){this.spinner.show(),this.CarStaticDataService.productFilter(this.filterForm.value).subscribe(e=>{this.spinner.hide(),this.allProducts=e})}clearFilter(){this.filterForm.reset(),this.getAllCars()}addCar(){this.router.navigate(["/add-car"])}edit(e,i){this.router.navigate(["edit-car",e,i]),this.messages.toast(`data for car id ${e} patched`,"success")}duplicate(e,i){this.router.navigate(["duplicate-car",e,i]),this.messages.toast(`data for car id ${e} to duplicate`,"success")}delete(e){this.messages.confirm("Delete","Are you sure you want to delete this car?","danger","question").then(i=>{i.isConfirmed&&(this.spinner.show(),this.CarStaticDataService.deleteCar(e).subscribe(l=>{1==l.success&&(this.spinner.hide(),this.messages.toast(`car id ${e} deleted`,"success"),this.getAllCars())}))})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(u.ex),t.rXU(C.I),t.rXU(g.RS),t.rXU(m.Ix),t.rXU(F.G))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-products"]],viewQuery:function(i,l){if(1&i&&t.GBs(j,5),2&i){let r;t.mGM(r=t.lsd())&&(l.carFilter=r.first)}},features:[t.Jv_([a.QX])],decls:46,vars:4,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[2,"color","white"],[1,"container","home","mt-lg-5"],[1,"row"],[1,"col-4","my-4"],[1,"float-label"],["type","text","placeholder","Search Cars",1,"form-control",3,"formControl"],["for",""],[1,"col-8","d-flex","justify-content-end","my-4"],[1,"btn","btn-secondary","mx-1",3,"click"],[1,"bx","bx-filter-alt","p-1"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"bx","bx-plus","p-1"],[1,"col-12"],[1,"table-wrapper",2,"overflow-x","auto","-webkit-overflow-scrolling","touch","scrollbar-width","thin"],[1,"table","table-striped",2,"table-layout","auto","width","100%"],["scope","col",1,"text-center",2,"min-width","160px"],["scope","col",1,"text-center",2,"min-width","50px","width","5%"],["scope","col",2,"min-width","120px"],["scope","col",2,"min-width","100px"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["carFilter",""],[1,"text-center"],["ngbTooltip","Edit",1,"btn","btn-outline-info",3,"click"],[1,"bx","bx-edit-alt"],["ngbTooltip","Duplicate",1,"btn","btn-outline-info","mx-1","mx-sm-4",3,"click"],[1,"fa-solid","fa-copy"],["ngbTooltip","Delete",1,"btn","btn-outline-danger",3,"click"],[1,"bx","bx-trash"],[3,"result","term"],["colspan","12"],[1,"fw-bold"],[1,"offcanvas-header"],[1,"offcanvas-title","fs-4"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[3,"formGroup","ngSubmit"],[1,"row","pe-3","justify-content-center"],[1,"col-12","mb-4"],[1,"float-label","mb-3"],["bindLabel","name","bindValue","id","formControlName","makeId","placeholder","Select Make",3,"items","clearable","loading","searchable","change"],["bindLabel","name","bindValue","id","formControlName","modelId","placeholder","Select Model",3,"items","clearable","loading","searchable"],["type","number","placeholder","Reg Year","formControlName","regYear",1,"form-control"],["type","number","placeholder","Price","formControlName","price",1,"form-control"],[1,"offcanvas-footer","border-top","row","mb-3","mx-1"],[1,"col-6","mt-2"],["type","button",1,"btn","btn-danger","btn-sm","w-100",3,"click"],["type","submit",1,"btn","btn-secondary","btn-sm","w-100"]],template:function(i,l){1&i&&(t.j41(0,"ngx-spinner",0)(1,"p",1),t.EFF(2,"Loading..."),t.k0s()(),t.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),t.nrm(7,"input",6),t.j41(8,"label",7),t.EFF(9,"Search Cars"),t.k0s()()(),t.j41(10,"div",8)(11,"div")(12,"button",9),t.bIt("click",function(){return l.openFilterOffcanvas()}),t.EFF(13," Filter "),t.nrm(14,"i",10),t.k0s(),t.j41(15,"button",11),t.bIt("click",function(){return l.addCar()}),t.EFF(16," Add Car "),t.nrm(17,"i",12),t.k0s()()(),t.j41(18,"div",13)(19,"div",14)(20,"table",15)(21,"thead")(22,"tr")(23,"th",16),t.EFF(24,"Actions"),t.k0s(),t.j41(25,"th",17),t.EFF(26,"#"),t.k0s(),t.j41(27,"th",18),t.EFF(28,"Name"),t.k0s(),t.j41(29,"th",19),t.EFF(30,"Price"),t.k0s(),t.j41(31,"th",19),t.EFF(32,"Reg Year"),t.k0s(),t.j41(33,"th",19),t.EFF(34,"Make"),t.k0s(),t.j41(35,"th",19),t.EFF(36,"Model"),t.k0s(),t.j41(37,"th",19),t.EFF(38,"Fuel Type"),t.k0s(),t.j41(39,"th",19),t.EFF(40,"Transmission"),t.k0s()()(),t.j41(41,"tbody"),t.DNE(42,P,26,21,"tr",20),t.DNE(43,y,4,0,"tr",21),t.k0s()()()()()(),t.DNE(44,S,34,9,"ng-template",null,22,t.C5r)),2&i&&(t.Y8G("fullScreen",!0),t.R7$(7),t.Y8G("formControl",l.filter),t.R7$(35),t.Y8G("ngForOf",l.allProducts),t.R7$(1),t.Y8G("ngIf",!l.allProducts))},dependencies:[a.Sq,a.bT,M.vr,o.qT,o.me,o.Q0,o.BC,o.cb,o.l_,o.j4,o.JD,u.et,g.Qr,g.md,a.QX,a.oe],styles:[".home{min-height:70vh!important}.table-wrapper::-webkit-scrollbar{height:8px}.table-wrapper::-webkit-scrollbar-thumb{background-color:#6c757d;border-radius:10px}.table-wrapper::-webkit-scrollbar-track{background:#f1f1f1}\n"],encapsulation:2})}return n})(),loadChildren:()=>s.e(188).then(s.bind(s,5188)).then(n=>n.ProductsModule)},{path:"categories",loadChildren:()=>Promise.all([s.e(76),s.e(519)]).then(s.bind(s,519)).then(n=>n.CategoriesModule)},{path:"make",loadChildren:()=>s.e(834).then(s.bind(s,4834)).then(n=>n.MakeModule)},{path:"model",loadChildren:()=>Promise.all([s.e(76),s.e(696)]).then(s.bind(s,696)).then(n=>n.ModelModule)},{path:"model",loadChildren:()=>Promise.all([s.e(76),s.e(696)]).then(s.bind(s,696)).then(n=>n.ModelModule)},{path:"",loadChildren:()=>s.e(575).then(s.bind(s,3575)).then(n=>n.OffersModule)},{path:"tags",loadChildren:()=>s.e(332).then(s.bind(s,6332)).then(n=>n.TagsModule)},{path:"attributes",loadChildren:()=>s.e(982).then(s.bind(s,1982)).then(n=>n.AttributesModule)},{path:"users",loadChildren:()=>s.e(661).then(s.bind(s,1661)).then(n=>n.UsersModule)},{path:"add-car",loadChildren:()=>Promise.all([s.e(244),s.e(76),s.e(965)]).then(s.bind(s,8965)).then(n=>n.CarFormModule)},{path:"edit-car/:id/:editable",loadChildren:()=>Promise.all([s.e(244),s.e(76),s.e(965)]).then(s.bind(s,8965)).then(n=>n.CarFormModule)},{path:"duplicate-car/:id/:editable",loadChildren:()=>Promise.all([s.e(244),s.e(76),s.e(965)]).then(s.bind(s,8965)).then(n=>n.CarFormModule)},{path:"profile",loadChildren:()=>Promise.all([s.e(244),s.e(273)]).then(s.bind(s,9273)).then(n=>n.ProfileModule)}];let E=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#s=this.\u0275inj=t.G2t({imports:[m.iI.forChild(x),m.iI]})}return n})(),A=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#s=this.\u0275inj=t.G2t({imports:[a.MD,E]})}return n})()},2923:(b,h,s)=>{s.d(h,{I:()=>p});var a=s(3587),m=s(8699),o=s(1626);let p=(()=>{class d{constructor(t){this.http=t,this.FuelType=[{name:"Diesel"},{name:"Electric"},{name:"Fuel"},{name:"Hybird"},{name:"Petrol"},{name:"Petrol/Electric"}],this.Transmission=[{name:"Automatic"},{name:"Manual"}],this.Drive=[{name:"RWD"},{name:"FWD"},{name:"AWD"}],this.BodyType=[{name:"Avant"},{name:"Sedan"},{name:"Saloon"},{name:"Coupe"},{name:"MPV"},{name:"Van"},{name:"Estate Car"}],this.ExteriorOptions=[{specs:"Alloy wheels"},{specs:"Electric folding mirrors"},{specs:"Fog lights"},{specs:"LED"},{specs:"Bi-xenon"},{specs:"Headlight washers"},{specs:"Daytime running lights"},{specs:"Heated electric mirrors"}],this.InteriorOptions=[{specs:"Air conditioning"},{specs:"Multifunction steering wheel"},{specs:"Adjustable /telescoping steering wheel"},{specs:"Adjustable /telescoping steering wheel"}],this.TechOptions=[{specs:"Satellite Navigation System"},{specs:"Audi MMI"},{specs:"Bluetooth Interface"},{specs:"AUX / USB"},{specs:"MP3 / CD"},{specs:"Auto stop / start"}],this.SafetyOptions=[{specs:"Parking assist"},{specs:"ISOFIX"},{specs:"Multiple airbags"},{specs:"ABS"},{specs:"ESP"},{specs:"Traction control"},{specs:"Hill keep assist"},{specs:"Alarm"},{specs:"Immobiliser"},{specs:"Keep in lane"}],this.make=[{id:1,name:"Audi"},{id:2,name:"BMW"}],this.model=[{id:1,name:"A1"},{id:2,name:"A2"},{id:3,name:"A3"},{id:4,name:"A4"},{id:5,name:"q1"},{id:6,name:"q2"},{id:7,name:"q3"}],this.categories=[{name:"Audi",subcategories:[{name:"A1"},{name:"A3"},{name:"A4"},{name:"A5"},{name:"A6"},{name:"Q2"},{name:"Q3"}]},{name:"BMW",subcategories:[{name:"Series 1"},{name:"Series 2"},{name:"Series 3"},{name:"Series 4"},{name:"Series 5"}]}],this.env=a.c.apiUrl}addCar(t){return this.http.post(this.env+"cars/add",t)}updateCar(t){return this.http.put(this.env+"cars/update",t)}getAllCars(){return this.http.get(this.env+"cars/all")}getCarById(t){return this.http.post(this.env+"cars/getCarById",{car_id:t})}deleteCar(t){return this.http.delete(this.env+`cars/delete/${t}`)}productFilter(t){return this.http.post(this.env+"cars/filter",t)}getAllMake(){return this.http.get(this.env+"make/all")}addMake(t){return this.http.post(this.env+"make/add",t)}getAllModels(){return this.http.get(this.env+"model/all")}getModelByMake(t){return this.http.get(this.env+`model/byMake/${t}`)}addModel(t){return this.http.post(this.env+"model/add",t)}deleteImage(t){return this.http.post(this.env+"cars/deleteImage",t)}static#t=this.\u0275fac=function(u){return new(u||d)(m.KVO(o.Qq))};static#e=this.\u0275prov=m.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);