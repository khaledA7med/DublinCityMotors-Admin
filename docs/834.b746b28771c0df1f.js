"use strict";(self.webpackChunkDublinCityMotors=self.webpackChunkDublinCityMotors||[]).push([[834],{4834:(D,u,o)=>{o.r(u),o.d(u,{MakeModule:()=>E});var l=o(177),r=o(4341),f=o(9172),h=o(6354),t=o(8699),m=o(788),d=o(2923),b=o(7402);function k(n,c){1&n&&t.nrm(0,"span",18)}let v=(()=>{class n{constructor(e,s,i){this.modal=e,this.CarStaticDataService=s,this.messages=i,this.submit=!1}ngOnInit(){this.initMakeForm()}initMakeForm(){this.makeForm=new r.gE({name:new r.MJ("")})}onSubmit(){this.submit=!0,this.CarStaticDataService.addMake(this.makeForm.value).subscribe(e=>{this.submit=!1,this.messages.toast("Make Added successfully","success"),this.modal.close()},e=>{this.submit=!1,this.messages.toast(e.error.message,"error")})}reset(){this.makeForm.reset()}static#t=this.\u0275fac=function(s){return new(s||n)(t.rXU(m.Lw),t.rXU(d.I),t.rXU(b.G))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-make-form"]],decls:25,vars:2,consts:[[1,"gift-ribbon-wrapper"],[1,"gift-ribbon"],[1,"modal-header","mb-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body","p-1","m-2","mt-5",2,"overflow-y","unset !important"],[1,"row"],[1,"col-12","mb-3"],[1,"float-label"],["type","text","formControlName","name","placeholder","Enter Make Name",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-outline-success","mx-2","d-flex","align-items-center"],[1,"bx","bx-save","me-1"],["class","spinner-border spinner-border-sm ms-2",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-info","mx-2","d-flex","align-items-center",3,"click"],[1,"bx","bx-clipboard","me-1"],["type","button",1,"btn","btn-outline-danger","btn-sm","d-flex","align-items-center",3,"click"],[1,"bx","bx-x","me-1"],[1,"spinner-border","spinner-border-sm","ms-2"]],template:function(s,i){1&s&&(t.j41(0,"div")(1,"div",0)(2,"div",1),t.EFF(3,"New Make"),t.k0s()(),t.j41(4,"div",2)(5,"button",3),t.bIt("click",function(){return i.modal.dismiss("Cross click")}),t.k0s()(),t.j41(6,"form",4),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),t.nrm(11,"input",9),t.j41(12,"label"),t.EFF(13,"Make Name"),t.k0s()()()()(),t.j41(14,"div",10)(15,"button",11),t.nrm(16,"i",12),t.EFF(17," Save "),t.DNE(18,k,1,0,"span",13),t.k0s(),t.j41(19,"button",14),t.bIt("click",function(){return i.reset()}),t.nrm(20,"i",15),t.EFF(21," Clear "),t.k0s(),t.j41(22,"button",16),t.bIt("click",function(){return i.modal.dismiss("Cross click")}),t.nrm(23,"i",17),t.EFF(24," Close "),t.k0s()()()()),2&s&&(t.R7$(6),t.Y8G("formGroup",i.makeForm),t.R7$(12),t.Y8G("ngIf",i.submit))},dependencies:[l.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD]})}return n})();var p=o(6554);const g=["makeFilter"];function F(n,c){if(1&n&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"ngb-highlight",17),t.nI1(3,"number"),t.k0s(),t.j41(4,"td"),t.nrm(5,"ngb-highlight",17),t.k0s()()),2&n){const e=c.$implicit,s=t.XpG();t.R7$(2),t.Y8G("result",t.bMT(3,4,e.id))("term",s.filter.value),t.R7$(3),t.Y8G("result",e.name)("term",s.filter.value)}}function M(n,c){1&n&&(t.j41(0,"tr",18)(1,"td",19)(2,"span",20),t.EFF(3,"No Data To Show"),t.k0s()()())}let C=(()=>{class n{constructor(e,s,i,a,G,T){this.messages=e,this.spinner=s,this.CarStaticDataService=i,this.offcanvasService=a,this.modalService=G,this.subscribe=[],this.filter=new r.MJ("",{nonNullable:!0}),this.countries$=this.filter.valueChanges.pipe((0,f.Z)(""),(0,h.T)(x=>this.search(x,T)))}search(e,s){return this.makeData.filter(i=>{const a=e.toLowerCase();return i.name.toLowerCase().includes(a)||i.id.toString().includes(a)})}ngOnInit(){this.getAllMake(),this.initForm()}initForm(){this.filterForm=new r.gE({name:new r.MJ})}getAllMake(){return this.spinner.show(),this.CarStaticDataService.getAllMake().subscribe(e=>{e&&(this.spinner.hide(),this.makeData=e)},e=>{this.spinner.hide(),this.messages.toast(e.error.message,"error")})}openFilterOffcanvas(){this.offcanvasService.open(this.makeFilter,{position:"end"})}openMakeModal(){this.modalRef=this.modalService.open(v,{centered:!0,size:"lg",backdrop:"static"});let e=this.modalRef.closed.subscribe(()=>this.getAllMake());this.subscribe.push(e)}static#t=this.\u0275fac=function(s){return new(s||n)(t.rXU(b.G),t.rXU(p.ex),t.rXU(d.I),t.rXU(m.RS),t.rXU(m.Bq),t.rXU(l.QX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-make"]],viewQuery:function(s,i){if(1&s&&t.GBs(g,5),2&s){let a;t.mGM(a=t.lsd())&&(i.makeFilter=a.first)}},features:[t.Jv_([l.QX])],decls:28,vars:4,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[2,"color","white"],[1,"container","home","mt-lg-5"],[1,"row","align-items-center"],[1,"col-4"],[1,"mb-3","row"],[1,"float-label"],["type","text","placeholder","Search Makes",1,"form-control",3,"formControl"],["for",""],[1,"col-8","d-flex","justify-content-end","my-4"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"bx","bx-plus","p-1"],[1,"col-md-12"],[1,"table","table-responsive","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[3,"result","term"],[1,"text-center"],["colspan","12"],[1,"fw-bold"]],template:function(s,i){1&s&&(t.j41(0,"ngx-spinner",0)(1,"p",1),t.EFF(2,"Loading..."),t.k0s()(),t.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"form")(7,"div",5)(8,"div",6),t.nrm(9,"input",7),t.j41(10,"label",8),t.EFF(11,"Search Makes"),t.k0s()()()()(),t.j41(12,"div",9)(13,"div")(14,"button",10),t.bIt("click",function(){return i.openMakeModal()}),t.EFF(15," Add Make "),t.nrm(16,"i",11),t.k0s()()(),t.j41(17,"div",12)(18,"table",13)(19,"thead")(20,"tr")(21,"th",14),t.EFF(22,"#"),t.k0s(),t.j41(23,"th",14),t.EFF(24,"Make Name"),t.k0s()()(),t.j41(25,"tbody"),t.DNE(26,F,6,6,"tr",15),t.DNE(27,M,4,0,"tr",16),t.k0s()()()()()),2&s&&(t.Y8G("fullScreen",!0),t.R7$(9),t.Y8G("formControl",i.filter),t.R7$(17),t.Y8G("ngForOf",i.makeData),t.R7$(1),t.Y8G("ngIf",!i.makeData))},dependencies:[l.Sq,l.bT,r.qT,r.me,r.BC,r.cb,r.cV,r.l_,p.et,m.Qr,l.QX],encapsulation:2})}return n})();var S=o(912),y=o(8729);const j=[{path:"",component:C,data:{title:"Make"}}];let E=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.$C({type:n});static#s=this.\u0275inj=t.G2t({imports:[l.MD,S.G,y.iI.forChild(j)]})}return n})()}}]);