"use strict";(self.webpackChunkDublinCityMotors=self.webpackChunkDublinCityMotors||[]).push([[549],{1549:(w,u,o)=>{o.r(u),o.d(u,{LoginModule:()=>F,routes:()=>g});var a=o(177),s=o(4341),f=o(3431),n=o(8699),h=o(5425),p=o(7402),l=o(8729),d=o(6554);function b(e,P){1&e&&(n.j41(0,"div",13),n.EFF(1," Required "),n.k0s())}function v(e,P){1&e&&(n.j41(0,"div",13),n.EFF(1," Required "),n.k0s())}const m=function(e){return{"is-invalid":e}};let C=(()=>{class e{constructor(i,r,t,c,O){this.auth=i,this.message=r,this.router=t,this.route=c,this.spinner=O,this.submitted=!1,this.subsribes=[]}ngOnInit(){this.initForm()}initForm(){this.loginForm=new s.gE({username:new s.MJ("",s.k0.required),password:new s.MJ(null,s.k0.required)}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}validationChecker(){return!this.loginForm.invalid||(this.message.popup("Attention!","Please Fill Required Inputs","warning"),!1)}onSubmit(){this.submitted=!0;let i={username:this.f.username.value,password:this.f.password.value};if(this.validationChecker()){this.spinner.show();let r=this.auth.Login(i).subscribe(t=>{t?(localStorage.setItem(f.l.token,t?.token),this.message.toast("Logged In Successfully","success"),this.spinner.hide(),this.router.navigate([this.returnUrl])):(this.spinner.hide(),this.message.toast(t.message,"error"))});this.subsribes.push(r)}}ngOnDestroy(){this.subsribes&&this.subsribes.forEach(i=>i.unsubscribe())}static#n=this.\u0275fac=function(r){return new(r||e)(n.rXU(h.u),n.rXU(p.G),n.rXU(l.Ix),n.rXU(l.nX),n.rXU(d.ex))};static#t=this.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:20,vars:10,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[2,"color","white"],[1,"test","d-flex","justify-content-center","align-items-center","vh-100"],[1,"login-form","bg-light","p-5","shadow","rounded"],[1,"text-center","mb-4"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","userName",1,"form-label"],["type","text","formControlName","username","id","userName","placeholder","Enter your User Name",1,"form-control",3,"ngClass"],["class","invalid-feedback fw-bold",4,"ngIf"],["for","password",1,"form-label"],["type","password","formControlName","password","id","password","placeholder","Enter your password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-dark","w-100"],[1,"invalid-feedback","fw-bold"]],template:function(r,t){1&r&&(n.j41(0,"ngx-spinner",0)(1,"p",1),n.EFF(2,"Loading..."),n.k0s()(),n.j41(3,"div",2)(4,"div",3)(5,"h2",4),n.EFF(6,"Login"),n.k0s(),n.j41(7,"form",5),n.bIt("ngSubmit",function(){return t.onSubmit()}),n.j41(8,"div",6)(9,"label",7),n.EFF(10,"User Name"),n.k0s(),n.nrm(11,"input",8),n.DNE(12,b,2,0,"div",9),n.k0s(),n.j41(13,"div",6)(14,"label",10),n.EFF(15,"Password"),n.k0s(),n.nrm(16,"input",11),n.DNE(17,v,2,0,"div",9),n.k0s(),n.j41(18,"button",12),n.EFF(19,"Login"),n.k0s()()()()),2&r&&(n.Y8G("fullScreen",!0),n.R7$(7),n.Y8G("formGroup",t.loginForm),n.R7$(4),n.Y8G("ngClass",n.eq3(6,m,(t.f.username.touched||t.submitted)&&t.f.username.invalid)),n.R7$(1),n.Y8G("ngIf",(t.f.username.touched||t.submitted)&&t.f.username.invalid),n.R7$(4),n.Y8G("ngClass",n.eq3(8,m,(t.f.password.touched||t.submitted)&&t.f.password.invalid)),n.R7$(1),n.Y8G("ngIf",(t.f.password.touched||t.submitted)&&t.f.password.invalid))},dependencies:[a.YU,a.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,d.et],styles:[".test[_ngcontent-%COMP%]{background-color:#000;font-family:Arial,sans-serif}.navbar[_ngcontent-%COMP%]{background-color:#000}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin:0}.navbar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#dcdcdc;font-size:1.2rem;margin:0}.login-form[_ngcontent-%COMP%]{max-width:400px;width:100%}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;padding:10px;border:1px solid #ddd}.login-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#444}.login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem;text-decoration:none}.login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return e})();var M=o(912);const g=[{path:"login",component:C}];let F=(()=>{class e{static#n=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=n.$C({type:e});static#e=this.\u0275inj=n.G2t({imports:[a.MD,l.iI.forChild(g),M.G]})}return e})()}}]);