"use strict";(self.webpackChunkDublinCityMotors=self.webpackChunkDublinCityMotors||[]).push([[696],{696:(R,m,o)=>{o.r(m),o.d(m,{ModelModule:()=>k});var a=o(177),r=o(4341),f=o(9172),u=o(6354),p=o(3227),t=o(8699),v=o(7402),c=o(6554),g=o(2923),d=o(788);const M=["makeFilter"];function b(n,h){if(1&n&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"ngb-highlight",17),t.nI1(3,"number"),t.k0s(),t.j41(4,"td"),t.nrm(5,"ngb-highlight",17),t.k0s(),t.j41(6,"td"),t.nrm(7,"ngb-highlight",17),t.k0s(),t.j41(8,"td"),t.nrm(9,"ngb-highlight",17),t.k0s()()),2&n){const e=h.$implicit,s=t.XpG();t.R7$(2),t.Y8G("result",t.bMT(3,8,e.id))("term",s.filter.value),t.R7$(3),t.Y8G("result",e.makeName)("term",s.filter.value),t.R7$(2),t.Y8G("result",e.name)("term",s.filter.value),t.R7$(2),t.Y8G("result",e.year)("term",s.filter.value)}}function F(n,h){1&n&&(t.j41(0,"tr",18)(1,"td",19)(2,"span",20),t.EFF(3,"No Data To Show"),t.k0s()()())}let C=(()=>{class n{constructor(e,s,i,l,G,D){this.messages=e,this.spinner=s,this.CarStaticDataService=i,this.offcanvasService=l,this.modalService=G,this.subscribe=[],this.filter=new r.MJ("",{nonNullable:!0}),this.models$=this.filter.valueChanges.pipe((0,f.Z)(""),(0,u.T)(E=>this.search(E,D)))}search(e,s){return this.modelData.filter(i=>{const l=e.toLowerCase();return i.makeName.toLowerCase().includes(l)||i.id.toString().includes(l)||i.name.toLowerCase().includes(l)||i.year.includes(l)})}ngOnInit(){this.getAllModels(),this.initForm()}initForm(){this.filterForm=new r.gE({name:new r.MJ})}getAllModels(){return this.spinner.show(),this.CarStaticDataService.getAllModels().subscribe(e=>{e&&(this.spinner.hide(),this.modelData=e)},e=>{this.spinner.hide(),this.messages.toast(e.error.message,"error")})}openFilterOffcanvas(){this.offcanvasService.open(this.makeFilter,{position:"end"})}openModelModal(){this.modalRef=this.modalService.open(p.p,{centered:!0,size:"lg",backdrop:"static"});let e=this.modalRef.closed.subscribe(()=>this.getAllModels());this.subscribe.push(e)}static#t=this.\u0275fac=function(s){return new(s||n)(t.rXU(v.G),t.rXU(c.ex),t.rXU(g.I),t.rXU(d.RS),t.rXU(d.Bq),t.rXU(a.QX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-model"]],viewQuery:function(s,i){if(1&s&&t.GBs(M,5),2&s){let l;t.mGM(l=t.lsd())&&(i.makeFilter=l.first)}},features:[t.Jv_([a.QX])],decls:32,vars:4,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[2,"color","white"],[1,"container","home","mt-lg-5"],[1,"row","align-items-center"],[1,"col-4"],[1,"mb-3","row"],[1,"float-label"],["type","text","placeholder","Search Models",1,"form-control",3,"formControl"],["for",""],[1,"col-8","d-flex","justify-content-end","my-4"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"bx","bx-plus","p-1"],[1,"col-md-12"],[1,"table","table-responsive","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[3,"result","term"],[1,"text-center"],["colspan","12"],[1,"fw-bold"]],template:function(s,i){1&s&&(t.j41(0,"ngx-spinner",0)(1,"p",1),t.EFF(2,"Loading..."),t.k0s()(),t.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"form")(7,"div",5)(8,"div",6),t.nrm(9,"input",7),t.j41(10,"label",8),t.EFF(11,"Search Models"),t.k0s()()()()(),t.j41(12,"div",9)(13,"div")(14,"button",10),t.bIt("click",function(){return i.openModelModal()}),t.EFF(15," Add Model "),t.nrm(16,"i",11),t.k0s()()(),t.j41(17,"div",12)(18,"table",13)(19,"thead")(20,"tr")(21,"th",14),t.EFF(22,"#"),t.k0s(),t.j41(23,"th",14),t.EFF(24,"Make Name"),t.k0s(),t.j41(25,"th",14),t.EFF(26,"Model Name"),t.k0s(),t.j41(27,"th",14),t.EFF(28,"Model Year"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,b,10,10,"tr",15),t.DNE(31,F,4,0,"tr",16),t.k0s()()()()()),2&s&&(t.Y8G("fullScreen",!0),t.R7$(9),t.Y8G("formControl",i.filter),t.R7$(21),t.Y8G("ngForOf",i.modelData),t.R7$(1),t.Y8G("ngIf",!i.modelData))},dependencies:[a.Sq,a.bT,r.qT,r.me,r.BC,r.cb,r.cV,r.l_,c.et,d.Qr,a.QX],encapsulation:2})}return n})();var j=o(8729),y=o(912);const S=[{path:"",component:C,data:{title:"Model"}}];let k=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.$C({type:n});static#s=this.\u0275inj=t.G2t({imports:[a.MD,y.G,j.iI.forChild(S)]})}return n})()}}]);